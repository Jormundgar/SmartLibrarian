<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Search book</title>
    <link th:href="@{/styles/css/main.css}" rel="stylesheet">
</head>
<body>
<form th:method="POST"
      th:action="@{/books/search}">
    <label for="contain">Enter search query: </label>
    <input type="text" name="contain" id="contain" required/>
    <br>
    <input type="submit" value="Search!"/>
</form>
<hr>
<br>
<a th:href="@{/books}"><input type="submit" value="Back to the Books list"></a>
<br>
<div th:if="${books.isEmpty()}">
    <p class="bold">There are not any book</p>
</div>
<div th:if="${!books.isEmpty()}">
    <p class="bold">Result:</p>
    <div th:each="book : ${books}">
        <p th:text="${book.getName() + ', '+ book.getAuthor() + ', '+ book.getYearOfPublish()}">Book</p>
        <div th:if="${book.getReader() != null}">
            <p class="bold" th:text="${'The book reader: ' + book.getReader().getName()}">Reader</p>
        </div>
        <div th:if="${book.getReader() == null}">
            <p class="bold">The book is free</p>
        </div>
        <hr>
    </div>
</div>
</body>
</html>